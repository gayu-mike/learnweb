<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>所有微博</title>
    <style>
        .weibo-hide {
        }
    </style>
    <script src="http://cdn.bootcss.com/jquery/3.1.0/jquery.min.js"></script>
    <script>
        var log = function(){
            console.log(arguments);
        };
    </script>
</head>
<body>
    {{weibos}}
    <script>
        log('js')
        $('.weibo-show-comment').on('click', function(){
            log('click')
            // 得到 weiboid 的值
            var weiboId = $(this).data('id')
            var selector = '#id-div-comment-' + weiboId
            var div = $(selector)
            div.toggleClass('weibo-hide')
            var opacity = 0
            var height = '0'
            if (div.hasClass('weibo-hide')){
                opacity = 0
                height = '0'
            } else {
                opacity = 1
                height = '40px'
            }
            div.animate({
                "height": height,
                "opacity": opacity,
            }, "fast")
        })
    </script>
</body>
</html>
